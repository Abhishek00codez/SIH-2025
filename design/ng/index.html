<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>STEM Quest - Learning Adventure</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        // Playful Growth (Default)
                        'playful-primary': '#22C55E',
                        'playful-action': '#FF8A00',
                        'playful-success': '#16A34A',
                        'playful-error': '#EF4444',
                        'playful-accent': '#7C3AED',
                        'playful-bg': '#F8FAFC',
                        'playful-card': '#FFFFFF',
                        'playful-text': '#0F172A',
                        
                        // Calm Focus
                        'calm-primary': '#2563EB',
                        'calm-action': '#06B6D4',
                        'calm-success': '#16A34A',
                        'calm-error': '#EF4444',
                        'calm-accent': '#F59E0B',
                        'calm-bg': '#F1F5F9',
                        'calm-card': '#FFFFFF',
                        'calm-text': '#0F172A',
                        
                        // High Contrast
                        'contrast-primary': '#004E89',
                        'contrast-action': '#FFB703',
                        'contrast-success': '#198754',
                        'contrast-error': '#D00000',
                        'contrast-accent': '#00A6A6',
                        'contrast-bg': '#FFFFFF',
                        'contrast-card': '#F7F7F7',
                        'contrast-text': '#081124'
                    },
                    animation: {
                        'bounce-slow': 'bounce 2s infinite',
                        'pulse-slow': 'pulse 3s infinite',
                        'float': 'float 3s ease-in-out infinite',
                        'fade-in': 'fadeIn 0.8s ease-out'
                    },
                    keyframes: {
                        float: {
                            '0%, 100%': { transform: 'translateY(0px)' },
                            '50%': { transform: 'translateY(-10px)' },
                        },
                        fadeIn: {
                            '0%': { opacity: '0', transform: 'scale(0.9)' },
                            '100%': { opacity: '1', transform: 'scale(1)' },
                        }
                    }
                }
            }
        }
    </script>
    <style>
        :root {
            --primary: #22C55E;
            --action: #FF8A00;
            --success: #16A34A;
            --error: #EF4444;
            --accent: #7C3AED;
            --bg: #F8FAFC;
            --card: #FFFFFF;
            --text: #0F172A;
        }
        
        [data-theme="calm"] {
            --primary: #2563EB;
            --action: #06B6D4;
            --success: #16A34A;
            --error: #EF4444;
            --accent: #F59E0B;
            --bg: #F1F5F9;
            --card: #FFFFFF;
            --text: #0F172A;
        }
        
        [data-theme="contrast"] {
            --primary: #004E89;
            --action: #FFB703;
            --success: #198754;
            --error: #D00000;
            --accent: #00A6A6;
            --bg: #FFFFFF;
            --card: #F7F7F7;
            --text: #081124;
        }
        
        body {
            background-color: var(--bg);
            color: var(--text);
            transition: all 0.3s ease;
        }
        
        .theme-primary { background-color: var(--primary); }
        .theme-action { background-color: var(--action); }
        .theme-success { background-color: var(--success); }
        .theme-error { background-color: var(--error); }
        .theme-accent { background-color: var(--accent); }
        .theme-card { background-color: var(--card); }
        .theme-text { color: var(--text); }
        
        .theme-border-primary { border-color: var(--primary); }
        .theme-border-action { border-color: var(--action); }
    </style>
</head>
<body class="min-h-screen transition-all duration-300">
    <!-- Floating Background Elements -->
    <div class="absolute inset-0 overflow-hidden pointer-events-none">
        <div class="absolute top-10 left-10 w-20 h-20 rounded-full animate-float opacity-20" style="background-color: var(--accent);"></div>
        <div class="absolute top-32 right-20 w-16 h-16 rounded-full animate-float opacity-20" style="background-color: var(--primary); animation-delay: 1s;"></div>
        <div class="absolute bottom-20 left-1/4 w-24 h-24 rounded-full animate-float opacity-20" style="background-color: var(--action); animation-delay: 2s;"></div>
        <div class="absolute bottom-32 right-1/3 w-12 h-12 rounded-full animate-float opacity-20" style="background-color: var(--success); animation-delay: 0.5s;"></div>
    </div>

    <!-- Main Container -->
    <div class="relative z-10 min-h-screen flex flex-col">
        <!-- Header with Profile and Theme Selector -->
        <header class="p-6">
            <div class="max-w-4xl mx-auto flex items-center justify-between">
                <!-- Logo -->
                <div class="flex items-center space-x-3">
                    <div class="w-12 h-12 rounded-full flex items-center justify-center animate-bounce-slow theme-primary">
                        <span class="text-2xl">ü¶â</span>
                    </div>
                    <div>
                        <h1 class="text-xl font-bold theme-text">STEM Quest</h1>
                        <p class="text-sm opacity-70">Learning Adventure</p>
                    </div>
                </div>

                <!-- Theme Selector -->
                <div class="flex items-center space-x-4">
                    <div class="flex items-center space-x-2 theme-card rounded-2xl p-2 shadow-lg">
                        <span class="text-sm font-medium px-2">Theme:</span>
                        <button onclick="setTheme('playful')" class="w-8 h-8 rounded-full border-2 transition-all hover:scale-110" 
                                style="background: linear-gradient(45deg, #22C55E, #FF8A00);" 
                                id="theme-playful" title="Playful Growth"></button>
                        <button onclick="setTheme('calm')" class="w-8 h-8 rounded-full border-2 transition-all hover:scale-110" 
                                style="background: linear-gradient(45deg, #2563EB, #06B6D4);" 
                                id="theme-calm" title="Calm Focus"></button>
                        <button onclick="setTheme('contrast')" class="w-8 h-8 rounded-full border-2 transition-all hover:scale-110" 
                                style="background: linear-gradient(45deg, #004E89, #FFB703);" 
                                id="theme-contrast" title="High Contrast"></button>
                    </div>

                    <!-- Profile Icon -->
                    <div class="relative">
                        <button onclick="toggleProfile()" class="w-12 h-12 rounded-full flex items-center justify-center shadow-lg hover:scale-110 transition-all theme-accent relative">
                            <span class="text-white font-bold text-lg">A</span>
                            <!-- Notification dot for rewards -->
                            <div class="absolute -top-1 -right-1 w-4 h-4 bg-red-500 rounded-full flex items-center justify-center">
                                <span class="text-xs text-white">!</span>
                            </div>
                        </button>
                        
                        <!-- Profile Dropdown -->
                        <div id="profile-dropdown" class="hidden absolute right-0 top-16 w-80 theme-card rounded-3xl shadow-2xl p-6 z-50">
                            <!-- Profile Header -->
                            <div class="text-center mb-6">
                                <div class="w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-3 theme-accent">
                                    <span class="text-white font-bold text-2xl">A</span>
                                </div>
                                <h3 class="text-xl font-bold theme-text">Alex Johnson</h3>
                                <p class="text-sm opacity-70">Level 12 Explorer</p>
                            </div>

                            <!-- Stats Grid -->
                            <div class="grid grid-cols-2 gap-4 mb-6">
                                <div class="text-center">
                                    <div class="text-2xl font-bold theme-text">2,450</div>
                                    <div class="text-xs opacity-70 flex items-center justify-center">
                                        <span class="text-purple-500 mr-1">‚≠ê</span>
                                        <span>Total XP</span>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold theme-text">7</div>
                                    <div class="text-xs opacity-70 flex items-center justify-center">
                                        <span class="text-orange-500 mr-1">üî•</span>
                                        <span>Day Streak</span>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold theme-text">15</div>
                                    <div class="text-xs opacity-70 flex items-center justify-center">
                                        <span class="text-yellow-500 mr-1">üèÖ</span>
                                        <span>Badges</span>
                                    </div>
                                </div>
                                <div class="text-center">
                                    <div class="text-2xl font-bold theme-text">350</div>
                                    <div class="text-xs opacity-70 flex items-center justify-center">
                                        <span class="text-blue-500 mr-1">üíé</span>
                                        <span>Gems</span>
                                    </div>
                                </div>
                            </div>

                            <!-- Recent Rewards -->
                            <div class="mb-6">
                                <h4 class="font-semibold theme-text mb-3 flex items-center">
                                    <span class="mr-2">üéÅ</span>
                                    <span>Recent Rewards</span>
                                    <div class="ml-auto w-2 h-2 bg-red-500 rounded-full animate-pulse"></div>
                                </h4>
                                <div class="space-y-2">
                                    <div class="flex items-center justify-between p-2 bg-yellow-50 rounded-xl">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-lg">üèÜ</span>
                                            <span class="text-sm font-medium">Wave Master Badge</span>
                                        </div>
                                        <button class="text-xs bg-yellow-400 text-yellow-900 px-2 py-1 rounded-full font-semibold hover:scale-105 transition-transform">
                                            Claim
                                        </button>
                                    </div>
                                    <div class="flex items-center justify-between p-2 bg-purple-50 rounded-xl">
                                        <div class="flex items-center space-x-2">
                                            <span class="text-lg">‚≠ê</span>
                                            <span class="text-sm font-medium">+50 XP Bonus</span>
                                        </div>
                                        <button class="text-xs bg-purple-400 text-purple-900 px-2 py-1 rounded-full font-semibold hover:scale-105 transition-transform">
                                            Claim
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Settings Options -->
                            <div class="space-y-3">
                                <!-- Language Selector -->
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">üåê</span>
                                        <span class="font-medium">Language</span>
                                    </div>
                                    <select onchange="changeLanguage(this.value)" class="bg-gray-100 rounded-xl px-3 py-1 text-sm border-none outline-none">
                                        <option value="en">üá∫üá∏ English</option>
                                        <option value="es">üá™üá∏ Espa√±ol</option>
                                        <option value="fr">üá´üá∑ Fran√ßais</option>
                                        <option value="de">üá©üá™ Deutsch</option>
                                        <option value="hi">üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä</option>
                                        <option value="zh">üá®üá≥ ‰∏≠Êñá</option>
                                    </select>
                                </div>

                                <!-- Theme Quick Access -->
                                <div class="flex items-center justify-between">
                                    <div class="flex items-center space-x-2">
                                        <span class="text-lg">üé®</span>
                                        <span class="font-medium">Theme</span>
                                    </div>
                                    <div class="flex space-x-1">
                                        <button onclick="setTheme('playful')" class="w-6 h-6 rounded-full border-2 hover:scale-110 transition-transform" 
                                                style="background: linear-gradient(45deg, #22C55E, #FF8A00);" title="Playful"></button>
                                        <button onclick="setTheme('calm')" class="w-6 h-6 rounded-full border-2 hover:scale-110 transition-transform" 
                                                style="background: linear-gradient(45deg, #2563EB, #06B6D4);" title="Calm"></button>
                                        <button onclick="setTheme('contrast')" class="w-6 h-6 rounded-full border-2 hover:scale-110 transition-transform" 
                                                style="background: linear-gradient(45deg, #004E89, #FFB703);" title="Contrast"></button>
                                    </div>
                                </div>

                                <!-- Other Options -->
                                <button onclick="openAchievements()" class="w-full flex items-center space-x-2 p-2 rounded-xl hover:bg-gray-100 transition-colors">
                                    <span class="text-lg">üèÖ</span>
                                    <span class="font-medium">View All Badges</span>
                                </button>
                                
                                <button onclick="openSettings()" class="w-full flex items-center space-x-2 p-2 rounded-xl hover:bg-gray-100 transition-colors">
                                    <span class="text-lg">‚öôÔ∏è</span>
                                    <span class="font-medium">Settings</span>
                                </button>
                                
                                <button onclick="logout()" class="w-full flex items-center space-x-2 p-2 rounded-xl hover:bg-red-50 transition-colors text-red-600">
                                    <span class="text-lg">üö™</span>
                                    <span class="font-medium">Sign Out</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </header>

        <!-- Main Content -->
        <main class="flex-1 flex items-center justify-center p-6">
            <div class="max-w-2xl mx-auto text-center">
                <!-- Welcome Message -->
                <div class="mb-12">
                    <div class="w-24 h-24 rounded-full flex items-center justify-center mx-auto mb-6 animate-pulse-slow theme-primary">
                        <span class="text-5xl">üöÄ</span>
                    </div>
                    <h2 class="text-4xl font-bold mb-4 theme-text">Welcome Back, Alex!</h2>
                    <p class="text-xl opacity-80 mb-2">Ready for your next STEM adventure?</p>
                    <div class="flex items-center justify-center space-x-4 text-sm">
                        <div class="flex items-center space-x-2 theme-card px-4 py-2 rounded-full shadow-sm">
                            <span class="text-orange-500">üî•</span>
                            <span class="font-semibold">7-day streak</span>
                        </div>
                        <div class="flex items-center space-x-2 theme-card px-4 py-2 rounded-full shadow-sm">
                            <span class="text-purple-500">‚≠ê</span>
                            <span class="font-semibold">2,450 XP</span>
                        </div>
                        <div class="flex items-center space-x-2 theme-card px-4 py-2 rounded-full shadow-sm">
                            <span class="text-yellow-500">üèÖ</span>
                            <span class="font-semibold">Level 12</span>
                        </div>
                    </div>
                </div>

                <!-- Action Buttons (Side by Side) -->
                <div class="grid md:grid-cols-2 gap-6 mb-12">
                    <!-- Resume Last Challenge -->
                    <div class="theme-card rounded-3xl p-6 shadow-xl hover:shadow-2xl transition-all transform hover:scale-105">
                        <div class="text-center mb-6">
                            <div class="text-5xl animate-pulse mb-4">‚ö°</div>
                            <h3 class="text-xl font-bold theme-text mb-2">Continue Journey</h3>
                            <p class="opacity-70">Physics Fun - Wave Lab</p>
                            <div class="flex items-center justify-center mt-3">
                                <div class="w-24 h-2 bg-gray-200 rounded-full overflow-hidden">
                                    <div class="h-full rounded-full transition-all duration-1000 theme-primary" style="width: 75%"></div>
                                </div>
                                <span class="ml-2 text-xs font-semibold opacity-70">75%</span>
                            </div>
                        </div>
                        <button onclick="showLearningPath()" class="w-full py-3 rounded-2xl text-lg font-bold text-white transition-all transform hover:scale-105 shadow-lg theme-primary">
                            Resume üéØ
                        </button>
                    </div>

                    <!-- Start New Challenge -->
                    <div class="theme-card rounded-3xl p-6 shadow-xl hover:shadow-2xl transition-all transform hover:scale-105">
                        <div class="text-center mb-6">
                            <div class="text-5xl animate-bounce mb-4">‚ú®</div>
                            <h3 class="text-xl font-bold theme-text mb-2">New Adventure</h3>
                            <p class="opacity-70">Explore new subjects</p>
                            <div class="flex items-center justify-center mt-3 space-x-3">
                                <span class="text-green-500 text-lg">üß™</span>
                                <span class="text-blue-500 text-lg">üßÆ</span>
                                <span class="text-purple-500 text-lg">üß¨</span>
                            </div>
                        </div>
                        <button onclick="startNewChallenge()" class="w-full py-3 rounded-2xl text-lg font-bold text-white transition-all transform hover:scale-105 shadow-lg theme-action">
                            Start New üöÄ
                        </button>
                    </div>
                </div>

                <!-- Learning Path (Hidden by default) -->
                <div id="learning-path" class="hidden">
                    <div class="mb-8 text-center">
                        <button onclick="hideLearningPath()" class="text-sm opacity-70 hover:opacity-100 transition mb-4">‚Üê Back to Dashboard</button>
                        <h3 class="text-2xl font-bold theme-text mb-2">Physics Fun - Learning Path</h3>
                        <p class="opacity-70">Complete levels to unlock new challenges!</p>
                    </div>

                    <!-- Path Container -->
                    <div class="relative max-w-3xl mx-auto">
                        <!-- Curved Path SVG -->
                        <svg class="absolute inset-0 w-full h-full" viewBox="0 0 600 800" fill="none">
                            <path d="M100 50 Q200 150 300 100 T500 200 Q400 300 300 250 T100 400 Q200 500 300 450 T500 600 Q400 700 300 650" 
                                  stroke="var(--primary)" stroke-width="4" stroke-dasharray="10,5" opacity="0.3"/>
                        </svg>

                        <!-- Level Nodes -->
                        <div class="relative space-y-16 py-8">
                            <!-- Level 1: Completed -->
                            <div class="flex items-center justify-start">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-lg theme-success relative">
                                        <span class="text-2xl">üåä</span>
                                        <div class="absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center">
                                            <span class="text-xs">‚≠ê</span>
                                        </div>
                                    </div>
                                    <div class="theme-card rounded-2xl p-4 shadow-lg">
                                        <h4 class="font-bold theme-text">Wave Basics</h4>
                                        <p class="text-sm opacity-70">Understanding wave properties</p>
                                        <div class="flex items-center mt-2 space-x-2">
                                            <span class="text-yellow-400 text-sm">‚≠ê‚≠ê‚≠ê</span>
                                            <span class="text-xs opacity-70">Perfect!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Level 2: Completed -->
                            <div class="flex items-center justify-end">
                                <div class="flex items-center space-x-4">
                                    <div class="theme-card rounded-2xl p-4 shadow-lg">
                                        <h4 class="font-bold theme-text">Wave Motion</h4>
                                        <p class="text-sm opacity-70">How waves travel</p>
                                        <div class="flex items-center mt-2 space-x-2">
                                            <span class="text-yellow-400 text-sm">‚≠ê‚≠ê</span>
                                            <span class="text-xs opacity-70">Great job!</span>
                                        </div>
                                    </div>
                                    <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-lg theme-success relative">
                                        <span class="text-2xl">üèÑ</span>
                                        <div class="absolute -top-1 -right-1 w-6 h-6 bg-yellow-400 rounded-full flex items-center justify-center">
                                            <span class="text-xs">‚≠ê</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Level 3: Current (In Progress) -->
                            <div class="flex items-center justify-start">
                                <div class="flex items-center space-x-4">
                                    <div class="w-16 h-16 rounded-full flex items-center justify-center shadow-lg theme-primary animate-pulse-slow relative">
                                        <span class="text-2xl">‚ö°</span>
                                        <div class="absolute -top-2 -right-2 w-8 h-8 bg-orange-400 rounded-full flex items-center justify-center animate-bounce">
                                            <span class="text-xs text-white font-bold">75%</span>
                                        </div>
                                    </div>
                                    <div class="theme-card rounded-2xl p-4 shadow-lg border-2 theme-border-primary">
                                        <h4 class="font-bold theme-text">Wave Interference</h4>
                                        <p class="text-sm opacity-70">When waves meet</p>
                                        <div class="flex items-center mt-2">
                                            <div class="w-20 h-2 bg-gray-200 rounded-full overflow-hidden">
                                                <div class="h-full rounded-full theme-primary" style="width: 75%"></div>
                                            </div>
                                            <span class="ml-2 text-xs font-semibold">75%</span>
                                        </div>
                                        <button onclick="continueLevel()" class="mt-3 px-4 py-2 rounded-xl text-sm font-bold text-white theme-primary hover:scale-105 transition-transform">
                                            Continue ‚Üí
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Level 4: Locked -->
                            <div class="flex items-center justify-end">
                                <div class="flex items-center space-x-4 opacity-50">
                                    <div class="theme-card rounded-2xl p-4 shadow-lg">
                                        <h4 class="font-bold theme-text">Standing Waves</h4>
                                        <p class="text-sm opacity-70">Waves that don't travel</p>
                                        <div class="flex items-center mt-2 space-x-2">
                                            <span class="text-gray-400 text-sm">üîí</span>
                                            <span class="text-xs opacity-70">Complete previous level</span>
                                        </div>
                                    </div>
                                    <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center shadow-lg relative">
                                        <span class="text-2xl opacity-50">üéµ</span>
                                        <div class="absolute inset-0 flex items-center justify-center">
                                            <span class="text-2xl">üîí</span>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <!-- Level 5: Locked -->
                            <div class="flex items-center justify-start">
                                <div class="flex items-center space-x-4 opacity-50">
                                    <div class="w-16 h-16 bg-gray-300 rounded-full flex items-center justify-center shadow-lg relative">
                                        <span class="text-2xl opacity-50">üéº</span>
                                        <div class="absolute inset-0 flex items-center justify-center">
                                            <span class="text-2xl">üîí</span>
                        </div>
                                    </div>
                                    <div class="theme-card rounded-2xl p-4 shadow-lg">
                                        <h4 class="font-bold theme-text">Wave Applications</h4>
                                        <p class="text-sm opacity-70">Real-world wave uses</p>
                                        <div class="flex items-center mt-2 space-x-2">
                                            <span class="text-gray-400 text-sm">üîí</span>
                                            <span class="text-xs opacity-70">Coming soon!</span>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- Quick Stats -->
                <div id="main-stats" class="grid grid-cols-2 md:grid-cols-4 gap-4">
                    <div class="theme-card rounded-2xl p-4 shadow-sm">
                        <div class="text-2xl mb-2">üéÆ</div>
                        <div class="text-2xl font-bold theme-text">12</div>
                        <div class="text-sm opacity-70">Games Completed</div>
                    </div>
                    <div class="theme-card rounded-2xl p-4 shadow-sm">
                        <div class="text-2xl mb-2">üî¨</div>
                        <div class="text-2xl font-bold theme-text">8</div>
                        <div class="text-sm opacity-70">Labs Finished</div>
                    </div>
                    <div class="theme-card rounded-2xl p-4 shadow-sm">
                        <div class="text-2xl mb-2">üèÜ</div>
                        <div class="text-2xl font-bold theme-text">#15</div>
                        <div class="text-sm opacity-70">Global Rank</div>
                    </div>
                    <div class="theme-card rounded-2xl p-4 shadow-sm">
                        <div class="text-2xl mb-2">‚öîÔ∏è</div>
                        <div class="text-2xl font-bold theme-text">3</div>
                        <div class="text-sm opacity-70">Team Battles</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="p-6">
            <div class="max-w-4xl mx-auto text-center">
                <div class="flex items-center justify-center space-x-6 text-sm opacity-70">
                    <button onclick="openSettings()" class="hover:opacity-100 transition">‚öôÔ∏è Settings</button>
                    <button onclick="openHelp()" class="hover:opacity-100 transition">‚ùì Help</button>
                    <button onclick="openLeaderboard()" class="hover:opacity-100 transition">üìä Leaderboard</button>
                </div>
            </div>
        </footer>
    </div>

    <script>
        // Theme Management
        let currentTheme = localStorage.getItem('stem-quest-theme') || 'playful';
        
        function setTheme(theme) {
            currentTheme = theme;
            document.documentElement.setAttribute('data-theme', theme);
            localStorage.setItem('stem-quest-theme', theme);
            
            // Update theme selector visual feedback
            document.querySelectorAll('[id^="theme-"]').forEach(btn => {
                btn.style.borderColor = '#e5e7eb';
                btn.style.borderWidth = '2px';
            });
            
            const selectedBtn = document.getElementById(`theme-${theme}`);
            selectedBtn.style.borderColor = 'var(--primary)';
            selectedBtn.style.borderWidth = '3px';
            
            // Show theme change feedback
            showNotification(`üé® Theme changed to ${getThemeName(theme)}!`);
        }
        
        function getThemeName(theme) {
            const names = {
                'playful': 'Playful Growth',
                'calm': 'Calm Focus', 
                'contrast': 'High Contrast'
            };
            return names[theme] || 'Playful Growth';
        }
        
        // Initialize theme on page load
        document.addEventListener('DOMContentLoaded', function() {
            setTheme(currentTheme);
        });
        
        // Main Functions
        function showLearningPath() {
            showNotification('‚ö° Loading your learning path!');
            document.getElementById('main-stats').classList.add('hidden');
            document.getElementById('learning-path').classList.remove('hidden');
            document.getElementById('learning-path').scrollIntoView({ behavior: 'smooth' });
        }
        
        function hideLearningPath() {
            document.getElementById('learning-path').classList.add('hidden');
            document.getElementById('main-stats').classList.remove('hidden');
        }
        
        function continueLevel() {
            alert('‚ö° Starting Wave Interference Lab!\n\nüéØ Current Progress: 75%\nüéÆ Interactive simulation loading...\n\nGet ready to explore how waves interact!');
        }
        
        function startNewChallenge() {
            showNotification('‚ú® Opening challenge selection!');
            setTimeout(() => {
                const challenges = [
                    'üß™ Chemistry Lab - Acid-Base Reactions',
                    'üßÆ Math Puzzles - Geometry Explorer', 
                    'üß¨ Biology Quest - Cell Division',
                    'üåç Physics World - Gravity Simulator'
                ];
                
                const randomChallenge = challenges[Math.floor(Math.random() * challenges.length)];
                alert(`üéØ New Challenge Selected!\n\n${randomChallenge}\n\nGet ready for an exciting STEM adventure!`);
                // In real app: navigate to challenge selection or start random challenge
            }, 1000);
        }
        
        // Profile Functions
        function toggleProfile() {
            const dropdown = document.getElementById('profile-dropdown');
            dropdown.classList.toggle('hidden');
        }
        
        function changeLanguage(lang) {
            const languages = {
                'en': 'üá∫üá∏ English',
                'es': 'üá™üá∏ Espa√±ol', 
                'fr': 'üá´üá∑ Fran√ßais',
                'de': 'üá©üá™ Deutsch',
                'hi': 'üáÆüá≥ ‡§π‡§ø‡§Ç‡§¶‡•Ä',
                'zh': 'üá®üá≥ ‰∏≠Êñá'
            };
            showNotification(`üåê Language changed to ${languages[lang]}!`);
            localStorage.setItem('stem-quest-language', lang);
        }
        
        function openAchievements() {
            alert('üèÖ Your Badges\n\nüßÆ Math Master - Complete 10 math challenges\n‚ö° Physics Explorer - Finish wave physics\nüî• Streak Keeper - 7-day learning streak\nüéØ Problem Solver - Solve 50 problems\nüåü Rising Star - Reach Level 10\n\n...and 10 more badges!\n\nüéØ Next: Wave Master (Complete wave interference)');
            document.getElementById('profile-dropdown').classList.add('hidden');
        }
        
        function logout() {
            if (confirm('üö™ Sign Out\n\nAre you sure you want to sign out?\nYour progress will be saved.')) {
                alert('üëã See you later!\n\nYour learning progress has been saved.\nCome back soon to continue your STEM adventure!');
                // In real app: clear session and redirect to login
            }
        }
        
        function openSettings() {
            alert('‚öôÔ∏è Settings\n\nüé® Theme: ' + getThemeName(currentTheme) + '\nüîä Sound: Enabled\nüì± Notifications: On\nüåê Language: English\nüîí Privacy Settings\n‚ùì Help & Support');
        }
        
        function openHelp() {
            alert('‚ùì Help & Support\n\nüìö How to play games\nüî¨ Using virtual labs\nüèÜ Earning XP and badges\nüë• Joining team battles\nüìû Contact support\n\nüí° Tip: Complete daily challenges for bonus XP!');
        }
        
        function openLeaderboard() {
            alert('üìä Leaderboard\n\nü•á #1 Sarah Miller - 3,450 XP\nü•à #2 Mike Chen - 3,200 XP\nü•â #3 Emma Davis - 2,890 XP\n...\nüéØ #15 Alex Johnson - 2,450 XP (You!)\n\nüöÄ Keep learning to climb higher!');
        }
        
        // Notification System
        function showNotification(message) {
            // Create notification element
            const notification = document.createElement('div');
            notification.className = 'fixed top-6 right-6 theme-card px-6 py-4 rounded-2xl shadow-xl z-50 transform translate-x-full transition-transform duration-300';
            notification.innerHTML = `
                <div class="flex items-center space-x-3">
                    <span class="text-lg">${message.split(' ')[0]}</span>
                    <span class="font-semibold">${message.substring(message.indexOf(' ') + 1)}</span>
                </div>
            `;
            
            document.body.appendChild(notification);
            
            // Animate in
            setTimeout(() => {
                notification.style.transform = 'translateX(0)';
            }, 100);
            
            // Animate out and remove
            setTimeout(() => {
                notification.style.transform = 'translateX(100%)';
                setTimeout(() => {
                    document.body.removeChild(notification);
                }, 300);
            }, 3000);
        }
        
        // Add some interactive effects
        document.addEventListener('DOMContentLoaded', function() {
            // Add hover effects to cards
            const cards = document.querySelectorAll('.theme-card');
            cards.forEach(card => {
                card.addEventListener('mouseenter', function() {
                    this.style.transform = 'translateY(-2px)';
                });
                
                card.addEventListener('mouseleave', function() {
                    this.style.transform = 'translateY(0)';
                });
            });
            
            // Close profile dropdown when clicking outside
            document.addEventListener('click', function(event) {
                const dropdown = document.getElementById('profile-dropdown');
                const profileButton = event.target.closest('button[onclick="toggleProfile()"]');
                
                if (!dropdown.contains(event.target) && !profileButton) {
                    dropdown.classList.add('hidden');
                }
            });
        });
    </script>
</body>
</html>